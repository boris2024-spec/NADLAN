# Cities API - ะัััััะน ััะฐัั

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฒ ะบะพะผะฟะพะฝะตะฝัะฐั

### ะัะพััะพะน ะฟัะธะผะตั

```jsx
import { CityAutocomplete } from '../components/ui';

function PropertyForm() {
    const [city, setCity] = useState('');
    
    return (
        <CityAutocomplete
            value={city}
            onChange={setCity}
            placeholder="ืืืจ ืขืืจ"
        />
    );
}
```

### ะก ะฒะฐะปะธะดะฐัะธะตะน

```jsx
import { CityAutocomplete } from '../components/ui';

function PropertyForm() {
    const [formData, setFormData] = useState({ city: '' });
    const [errors, setErrors] = useState({});
    
    const handleChange = (city) => {
        setFormData({ ...formData, city });
        // ะะฐะปะธะดะฐัะธั
        if (!city) {
            setErrors({ ...errors, city: 'ืขืืจ ืืื ืฉืื ืืืื' });
        } else {
            const { city: _, ...rest } = errors;
            setErrors(rest);
        }
    };
    
    return (
        <div>
            <CityAutocomplete
                value={formData.city}
                onChange={handleChange}
                placeholder="ืืืจ ืขืืจ"
                error={!!errors.city}
                required
            />
            {errors.city && (
                <span className="error">{errors.city}</span>
            )}
        </div>
    );
}
```

### ะัะฟะพะปัะทะพะฒะฐะฝะธะต API ะฝะฐะฟััะผัั

```jsx
import { getAllCities, searchCities, getCityByName } from '../services/citiesApi';

// ะะพะปััะธัั ะฒัะต ะณะพัะพะดะฐ
const cities = await getAllCities();
console.log(cities); // ['ืืื ืืืฉ', 'ืืื ืกืืื', ...]

// ะะพะธัะบ ะณะพัะพะดะพะฒ
const results = await searchCities('ืชื');
console.log(results); // ['ืชื ืืืื - ืืคื', 'ืชื ืฉืืข', ...]

// ะะพะปััะธัั ะธะฝัะพัะผะฐัะธั ะพ ะณะพัะพะดะต
const cityInfo = await getCityByName('ืชื ืืืื - ืืคื');
console.log(cityInfo); // { ืฉื_ืืฉืื: 'ืชื ืืืื - ืืคื', ืกืื_ืืฉืื: '5000', ... }
```

## ๐ Props ะบะพะผะฟะพะฝะตะฝัะฐ CityAutocomplete

| Prop | Type | Required | Default | Description |
|------|------|----------|---------|-------------|
| `value` | string | Yes | - | ะขะตะบััะตะต ะทะฝะฐัะตะฝะธะต |
| `onChange` | function | Yes | - | Callback ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ |
| `placeholder` | string | No | 'ืืงืื ืฉื ืขืืจ' | ะขะตะบัั placeholder |
| `className` | string | No | '' | CSS ะบะปะฐััั |
| `required` | boolean | No | false | ะะฑัะทะฐัะตะปัะฝะพะต ะฟะพะปะต |
| `error` | boolean | No | false | ะคะปะฐะณ ะพัะธะฑะบะธ |

## ๐จ ะกัะธะปะธะทะฐัะธั

ะะพะผะฟะพะฝะตะฝั ะฟะพะดะดะตัะถะธะฒะฐะตั ัะตะผะฝัั ัะตะผั ะธะท ะบะพัะพะฑะบะธ. ะะปั ะบะฐััะพะผะธะทะฐัะธะธ:

```jsx
<CityAutocomplete
    value={city}
    onChange={setCity}
    className="custom-class"
/>
```

ะกัะธะปะธ ะฟัะธะผะตะฝััััั ัะตัะตะท Tailwind CSS ะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะดะดะตัะถะธะฒะฐัั `dark:` ะฟัะตัะธะบั.

## โจ๏ธ ะะปะฐะฒะธะฐัััะฝัะต ัะพะบัะฐัะตะฝะธั

- `Enter` - ะัะฑัะฐัั ะฟะตัะฒัะน ัะตะทัะปััะฐั
- `Escape` - ะะฐะบัััั dropdown
- ะะปะธะบ ะฒะฝะต ะบะพะผะฟะพะฝะตะฝัะฐ - ะะฐะบัััั dropdown

## ๐ง API ััะฝะบัะธะธ

### getAllCities()

ะะพะปััะธัั ะฒัะต ะณะพัะพะดะฐ ะะทัะฐะธะปั (ั ะบััะธัะพะฒะฐะฝะธะตะผ).

```javascript
const cities = await getAllCities();
// Returns: string[] - ะผะฐััะธะฒ ะฝะฐะทะฒะฐะฝะธะน ะณะพัะพะดะพะฒ
```

### searchCities(query)

ะะพะธัะบ ะณะพัะพะดะพะฒ ะฟะพ ะทะฐะฟัะพัั (ะผะฐะบัะธะผัะผ 10 ัะตะทัะปััะฐัะพะฒ).

```javascript
const results = await searchCities('ืชื');
// Returns: string[] - ะผะฐััะธะฒ ะฟะพะดัะพะดััะธั ะณะพัะพะดะพะฒ
```

### getCityByName(cityName)

ะะพะปััะธัั ะดะตัะฐะปัะฝัั ะธะฝัะพัะผะฐัะธั ะพ ะณะพัะพะดะต.

```javascript
const cityInfo = await getCityByName('ืชื ืืืื - ืืคื');
// Returns: Object | null - ะพะฑัะตะบั ั ะดะฐะฝะฝัะผะธ ะธะปะธ null
```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะ ะฑัะฐัะทะตัะต
ะัะบัะพะนัะต `test-cities-api.html` ะดะปั ะธะฝัะตัะฐะบัะธะฒะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั.

### ะ Node.js
```bash
node test-cities-api.js
```

### ะ ะฟัะธะปะพะถะตะฝะธะธ
```bash
cd nadlan_front
npm run dev
```
ะะตัะตะนะดะธัะต ะฝะฐ ัััะฐะฝะธัั ัะพะทะดะฐะฝะธั ะฝะตะดะฒะธะถะธะผะพััะธ โ ะจะฐะณ 2.

## ๐ก ะัััะธะต ะฟัะฐะบัะธะบะธ

1. **ะัะตะณะดะฐ ะพะฑัะฐะฑะฐััะฒะฐะนัะต ะพัะธะฑะบะธ**
   ```javascript
   try {
       const cities = await getAllCities();
   } catch (error) {
       console.error('ะัะธะฑะบะฐ ะทะฐะณััะทะบะธ ะณะพัะพะดะพะฒ:', error);
       // ะะพะบะฐะทะฐัั ัะพะพะฑัะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั
   }
   ```

2. **ะัะฟะพะปัะทัะนัะต debounce ะดะปั ะฟะพะธัะบะฐ**
   ะะพะผะฟะพะฝะตะฝั ัะถะต ะฒะบะปััะฐะตั debounce 300ms, ะฝะพ ะตัะปะธ ะธัะฟะพะปัะทัะตัะต API ะฝะฐะฟััะผัั:
   ```javascript
   const debouncedSearch = debounce(searchCities, 300);
   ```

3. **ะัะพะฒะตััะนัะต ะทะฝะฐัะตะฝะธั**
   ```javascript
   if (city && city.trim()) {
       // ะัะฟะพะปัะทัะนัะต ะทะฝะฐัะตะฝะธะต
   }
   ```

4. **ะััะธัะพะฒะฐะฝะธะต**
   API ะฐะฒัะพะผะฐัะธัะตัะบะธ ะบััะธััะตั ัะตะทัะปััะฐัั ะฝะฐ 24 ัะฐัะฐ. ะะต ะฝัะถะฝะพ ะดะตะปะฐัั ััะพ ะฒัััะฝัั.

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: ะะพัะพะดะฐ ะฝะต ะทะฐะณััะถะฐัััั
**ะะตัะตะฝะธะต:** ะัะพะฒะตัััะต ะฟะพะดะบะปััะตะฝะธะต ะบ ะธะฝัะตัะฝะตัั ะธ ะดะพัััะฟะฝะพััั data.gov.il

### ะัะพะฑะปะตะผะฐ: ะะพะธัะบ ะฝะต ัะฐะฑะพัะฐะตั
**ะะตัะตะฝะธะต:** ะฃะฑะตะดะธัะตัั, ััะพ ะฒะฒะพะดะธัะต ะผะธะฝะธะผัะผ 2 ัะธะผะฒะพะปะฐ

### ะัะพะฑะปะตะผะฐ: ะะพะปะณะฐั ะทะฐะณััะทะบะฐ
**ะะตัะตะฝะธะต:** ะะตัะฒะฐั ะทะฐะณััะทะบะฐ ะผะพะถะตั ะทะฐะฝััั ะฒัะตะผั, ะฝะพ ัะตะทัะปััะฐัั ะบััะธัััััั

### ะัะพะฑะปะตะผะฐ: ะะตะฟัะฐะฒะธะปัะฝะฐั ัะพััะธัะพะฒะบะฐ
**ะะตัะตะฝะธะต:** ะะพัะพะดะฐ ัะพััะธัััััั ะฟะพ ะธะฒัะธััะบะพะผั ะฐะปัะฐะฒะธัั ะฐะฒัะพะผะฐัะธัะตัะบะธ

## ๐ ะะพะดะดะตัะถะบะฐ

ะัะปะธ ะฒะพะทะฝะธะบะปะธ ะฒะพะฟัะพัั:
1. ะัะพะฒะตัััะต `CITIES_API_INTEGRATION.md` ะดะปั ะดะตัะฐะปัะฝะพะน ะดะพะบัะผะตะฝัะฐัะธะธ
2. ะัะบัะพะนัะต `test-cities-api.html` ะดะปั ัะตััะธัะพะฒะฐะฝะธั API
3. ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ ะฝะฐ ะฝะฐะปะธัะธะต ะพัะธะฑะพะบ
